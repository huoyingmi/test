<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>020-箭头函数的this指向.html</title>
</head>
<body>
	
</body>
<script>
	//箭头函数的this实在调用的时候确定的。箭头函数的this是在定义时确定的
	/*
	function Timer(id){
		this.id = id;  //此时this指向Timer
		console.log("1::",this,this.id);
		setTimeout(function(){   //延迟定时器中this指向window
			console.log("2::",this,this.id);
		},200);
	}
	var id = 100;
	new Timer(200);
	*/
	/*
	function Timer(id){
		this.id = id;  //此时this指向Timer
		console.log("1::",this,this.id);
		setTimeout(() => {   //箭头函数中this指向Timer
			console.log("2::",this,this.id);
		},200);
	}
	var id = 100;
	new Timer(200);
	*/
	//箭头函数相当于普通函数加.bind(this)
	function Timer(id){
		this.id = id;  //此时this指向Timer
		console.log("1::",this,this.id);
		setTimeout(function(){   //延迟定时器中this指向window
			console.log("2::",this,this.id);
		}.bind(this),200);
	}
	var id = 100;
	new Timer(200);
</script>
</html>